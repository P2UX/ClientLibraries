
<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <link rel="shortcut icon" href="../../assets/images/favicon.png">
      
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-1.10.1">
    
    
      
        <title>Local Data - P2UX Developer</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-e826f8942a.js"></script>
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-a20f419c8e.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-23f75ab9c7.palette.css">
      
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    
  </head>
  
  
  
  
    <body data-md-color-primary="blue-grey" data-md-color-accent="">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="P2UX Developer" class="md-header-nav__button md-logo">
          
            
              <img src="../../images/logo.png" width="24" height="24">
            
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Data Sources
                </span>
              
                <span class="md-header-nav__parent">
                  Specific Types of Sources
                </span>
              
            
            Local Data
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result" data-md-lang-search="" data-md-lang-tokenizer="[\s\-]+">
          <div class="md-search-result__meta" data-md-lang-result-none="No matching documents" data-md-lang-result-one="1 matching document" data-md-lang-result-other="# matching documents">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <div class="md-nav__button md-logo">
      
        
          <img src="../../images/logo.png">
        
      
    </div>
    P2UX Developer
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Latest News" class="md-nav__link">
      Latest News
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      iOS/tvOS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        iOS/tvOS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/quickstart/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ios/customcode/" title="Custom Code" class="md-nav__link">
      Custom Code
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Android
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Android
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../android/quickstart/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../android/customcode/" title="Custom Code" class="md-nav__link">
      Custom Code
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Application Content
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Application Content
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../general/applicense/" title="Application License" class="md-nav__link">
      Application License
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../general/envandpublish/" title="Application Environments" class="md-nav__link">
      Application Environments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../general/appbundleupdates/" title="Application Bundle Updates" class="md-nav__link">
      Application Bundle Updates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../general/dynamicappbundle/" title="Dynamic Application Bundle" class="md-nav__link">
      Dynamic Application Bundle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../general/staticappbundle/" title="Static Application Bundle" class="md-nav__link">
      Static Application Bundle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../general/splashscreen/" title="Splash Screens" class="md-nav__link">
      Splash Screens
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Data Linking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Data Linking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../linking/filtersconditionals/" title="Filters and Conditionals" class="md-nav__link">
      Filters and Conditionals
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Data Sources
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Data Sources
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../overview/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../datasource/" title="Basic Data Sources" class="md-nav__link">
      Basic Data Sources
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3" checked>
    
    <label class="md-nav__link" for="nav-6-3">
      Specific Types of Sources
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        Specific Types of Sources
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../staticdatasource/" title="Static Data" class="md-nav__link">
      Static Data
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Local Data
      </label>
    
    <a href="./" title="Local Data" class="md-nav__link md-nav__link--active">
      Local Data
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#request-object-attributes" title="Request Object Attributes" class="md-nav__link">
    Request Object Attributes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-schema" title="Data Schema" class="md-nav__link">
    Data Schema
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-data" title="Default Data" class="md-nav__link">
    Default Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../restfuldatasource/" title="RESTful Data" class="md-nav__link">
      RESTful Data
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../mqttdatasource/" title="MQTT Data" class="md-nav__link">
      MQTT Data
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#request-object-attributes" title="Request Object Attributes" class="md-nav__link">
    Request Object Attributes
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data-schema" title="Data Schema" class="md-nav__link">
    Data Schema
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#default-data" title="Default Data" class="md-nav__link">
    Default Data
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="local-data-sources">Local Data Sources<a class="headerlink" href="#local-data-sources" title="Permanent link">&para;</a></h1>
<p>Local Data Sources are collections of data that store data locally on the device where the application is installed. Since it follows the standard Data Source protocol, data from the repository can be used directly in UI and can also be parameterized using arguments for query purposes. Data is stored as JSON in a file and can optionally be encrypted. Keep in mind that Local Data Sources are modifiable as they are treated like a database. If you want read-only sources of data for an application, use <a href="../staticdatasource/">Static Data Sources</a> instead.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>As of the last version of this document, Data Sources can only be defined using a JSON editor. It is assumed that the reader understands the basics of JSON structure to be able to edit the data source. A better targeted Data Source editor is being developed to make creation of Data Sources simpiler. </p>
</div>
<h2 id="request-object-attributes">Request Object Attributes<a class="headerlink" href="#request-object-attributes" title="Permanent link">&para;</a></h2>
<p>In addition to the basic <a href="../datasource/#request-object-attributes">Request Object Attributes</a> provided by Data Sources, Local Data Sources have additional attributes used for data and parameters. </p>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>seed</td>
<td>mixed</td>
<td>(OPTIONAL) - The initial data for the request. When an application is newly installed, this data is used until changes are made by the application.</td>
</tr>
<tr>
<td>maxentries</td>
<td>number</td>
<td>(OPTIONAL) - This value is used for schema types of Array and Object. It indicates the maximum entries to be stored. If a create or update operation is performed and the array is at its max then the last entry from the end or beginning of the array will be removed.</td>
</tr>
</tbody>
</table>
<h2 id="data-schema">Data Schema<a class="headerlink" href="#data-schema" title="Permanent link">&para;</a></h2>
<p>All requests require a schema object that defines the structure of the data repository. For Local Data Sources, the top level object needs to be either an Array or an Object. If the top level object is an Object, it is used like an array where the key for the object is the unique identifier of an object instance and the value is an instance of the data Object.</p>
<p>This example shows a request with an array collection of "user" objects. The request is called <code class="codehilite">users</code> in a data source named <code class="codehilite">Internal Data</code>.</p>
<div class="codehilite"><pre><span></span>{
  &quot;name&quot;: {
    &quot;en_US&quot;: &quot;Internal Data&quot;
  },
  &quot;type&quot;: &quot;LOCAL&quot;,
  &quot;systemtype&quot;: &quot;internal_data&quot;,
  &quot;requests&quot;: {
    &quot;users&quot;: {
      &quot;request&quot;: {
        &quot;version&quot;: 1
      },
      &quot;schema&quot;: {
        &quot;type&quot;: &quot;Array&quot;,
        &quot;index&quot;: &quot;ident&quot;,
        &quot;item&quot;: {
          &quot;type&quot;: &quot;Object&quot;,
          &quot;item&quot;: {
            &quot;ident&quot;: {
              &quot;type&quot;: &quot;String&quot;
            },
            &quot;firstname&quot;: {
              &quot;type&quot;: &quot;String&quot;
            },
            &quot;lastname&quot;: {
              &quot;type&quot;: &quot;String&quot;
            },
            &quot;picture&quot;: {
              &quot;type&quot;: &quot;String&quot;
            },
            &quot;password&quot;: {
              &quot;type&quot;: &quot;String&quot;
            },
            &quot;email&quot;: {
              &quot;type&quot;: &quot;String&quot;
            }
          }
        }
      }
    }
  }
}
</pre></div>


<h3 id="default-data">Default Data<a class="headerlink" href="#default-data" title="Permanent link">&para;</a></h3>
<p>Local Data Source requests can be seeded with data to provide an initial data set for the application. The initial data is provided within the <code class="codehilite">request</code> object with the key <code class="codehilite">seed</code>. If the initial data changes, the <code class="codehilite">version</code> of the request must be incremented to force clients to reseed the database with the provided data.</p>
<p>!!! note Version Migration
    As of version 1.1 of the P2UX Rendering Libraries <em>(PRL)</em>, Local Data Sources don't support a version migration schema. This is planned for version 1.2 of the client libraries.</p>
<p>This example shows a request with seeded data. The request is called <code class="codehilite">messages</code> and contains a default message.</p>
<div class="codehilite"><pre><span></span>{
  &quot;name&quot;: {
    &quot;en_US&quot;: &quot;Internal Data&quot;
  },
  &quot;type&quot;: &quot;LOCAL&quot;,
  &quot;systemtype&quot;: &quot;internal_data&quot;,
  &quot;requests&quot;: {
    &quot;messages&quot;: {
      &quot;request&quot;: {
        &quot;version&quot;: 1,
        &quot;seed&quot;:[
          {
            &quot;ident&quot;:&quot;ff-default&quot;,
            &quot;message&quot;: &quot;Welcome to the app, you&#39;ll find important messages here.&quot;,
            &quot;from&quot;:&quot;System&quot;,
            &quot;type&quot;:0
          }
        ]
      },
      &quot;schema&quot;: {
        &quot;type&quot;: &quot;Array&quot;,
        &quot;index&quot;: &quot;ident&quot;,
        &quot;item&quot;: {
          &quot;type&quot;: &quot;Object&quot;,
          &quot;item&quot;: {
            &quot;ident&quot;: {
              &quot;type&quot;: &quot;String&quot;
            },
            &quot;message&quot;: {
              &quot;type&quot;:&quot;String&quot;
            },
            &quot;timestamp&quot;: {
              &quot;type&quot;: &quot;Date&quot;
            },
            &quot;from&quot;: {
              &quot;type&quot;: &quot;String&quot;
            },
            &quot;type&quot;:{
              &quot;type&quot;: &quot;Number&quot;
            }
          }
        }
      }
    }
  }
}
</pre></div>


<div class="admonition note">
<p class="admonition-title">Creating a New Data Source</p>
<p>For Steps to create a new Data Source in <em>Builder</em>, refer to the <a href="../datasource#creating-data-sources">Data Sources</a> documentation</p>
</div>
<div style="text-align:right"><sub><sup>Last Updated: Jan. 2, 2018<sup><sub></div>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../staticdatasource/" title="Static Data" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Static Data
              </span>
            </div>
          </a>
        
        
          <a href="../restfuldatasource/" title="RESTful Data" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                RESTful Data
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 P2UX, Inc.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-f3ab9e5ff8.js"></script>
      
      
      <script>app.initialize({url:{base:"../.."}})</script>
      
        <script src="../../search/require.js"></script>
      
        <script src="../../search/search.js"></script>
      
    
    
      
    
  </body>
</html>